import{d as x,e as i,i as r,k as f,F as p,v as C,u as B,r as d,x as S,o as O,b as P,c as _,w as j,f as e,y as V,z as $,s as z,A as v,B as A,C as D,g,t as y,h as L}from"./index-h0RJ0Lqj.js";import{C as M,P as N}from"./payments.service-TKdL7OZW.js";function E(o){return{all:o=o||new Map,on:function(s,a){var t=o.get(s);t?t.push(a):o.set(s,[a])},off:function(s,a){var t=o.get(s);t&&(a?t.splice(t.indexOf(a)>>>0,1):o.set(s,[]))},emit:function(s,a){var t=o.get(s);t&&t.slice().map(function(n){n(a)}),(t=o.get("*"))&&t.slice().map(function(n){n(s,a)})}}}const F=E();class m{static async show(s,a){F.emit("toastOpen",{message:s,type:a})}static async success(s){s||(s="Done"),m.show(s,"success")}static async error(s){m.show(s,"error")}}const q=m.error,H={class:"flex mb-2"},I=C('<div class="flex-shrink-0"><span class="w-12 h-12 block bg-gray-200 rounded-full animate-pulse"></span></div><div class="ms-4 mt-2 w-full"><ul class="mt-2 space-y-3"><li class="w-[90%] h-4 bg-gray-200 rounded-full animate-pulse"></li></ul></div><div class="flex-shrink-0"><span class="w-6 h-6 block bg-gray-200 rounded-full animate-pulse"></span></div>',3),R=[I],U=x({__name:"Skeleton",props:{items:{}},setup(o){const s=o;return(a,t)=>(i(!0),r(p,null,f(s.items,n=>(i(),r("div",H,R))),256))}}),Z={class:"mx-4"},G=e("label",{class:"font-bold"},"Buscar empresa",-1),J=e("label",{for:"default-search",class:"mb-2 text-sm font-medium text-gray-900 sr-only dark:text-white"},"Search",-1),K={class:"relative"},Q=e("div",{class:"absolute inset-y-0 end-0 flex items-center pe-3 pointer-events-none"},[e("svg",{class:"w-4 h-4 text-gray-500 dark:text-gray-400","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 20 20"},[e("path",{stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"m19 19-4-4m0-7A7 7 0 1 1 1 8a7 7 0 0 1 14 0Z"})])],-1),T={class:"py-4"},W={class:"flex gap-2 overflow-x-auto w-full"},X={class:"relative grid select-none items-center whitespace-nowrap rounded-full border py-1.5 px-3 font-sans text-xs font-bold uppercase"},Y={class:"absolute top-2/4 left-1.5 h-4 w-4 -translate-y-3/4"},ee={class:"ml-[28px]"},se={class:"block font-sans text-sm antialiased font-medium leading-none text-gray-600 capitalize"},te={style:{height:"23rem","overflow-y":"scroll"}},ae={key:1,class:"w-full text-gray-900 bg-white"},oe={role:"list",class:"divide-y divide-gray-100"},ne=["title"],le={class:"flex min-w-0 gap-x-4 items-center"},ie=["src"],re={class:"min-w-0 flex-auto"},ce={class:"text-sm font-semibold leading-6 text-gray-900"},de={class:"hidden shrink-0 sm:flex sm:flex-col sm:items-end"},ue={class:"text-sm leading-6 text-gray-900"},pe=x({__name:"Index",setup(o){const s=B();d(!1);const a=d(!1),t=d([]),n=d("");d();const w=d([{id:1,name:"todos",icon:z},{id:2,name:"favoritos",icon:v},{id:3,name:"telefonia",icon:A},{id:4,name:"universidades",icon:D}]),b=S(()=>n&&t?t.value.filter(c=>n.value.toLowerCase().split("").every(u=>c.company.toLowerCase().includes(u))):t.value),k=async()=>{try{a.value=!0;const{data:c}=await N.getProviders();t.value=c.companies}catch(c){q(c.message)}finally{a.value=!1}};return O(async()=>{s.navbar={title:"Recargas"},await k()}),(c,u)=>{const h=P("svg-icon");return i(),_(M,null,{default:j(()=>[e("div",Z,[e("div",null,[G,J,e("div",K,[Q,V(e("input",{type:"search","onUpdate:modelValue":u[0]||(u[0]=l=>n.value=l),id:"default-search",class:"block w-full p-4 ps-10 text-sm text-gray-900 border border-gray-300 rounded-lg bg-gray-50 focus:ring-blue-500 focus:border-blue-500",placeholder:"Buscar...",required:""},null,512),[[$,n.value]])])]),e("div",T,[e("div",W,[(i(!0),r(p,null,f(w.value,l=>(i(),r("div",X,[e("div",Y,[g(h,{type:"mdi",path:l.icon,class:"relative inline-block h-full w-full -translate-x-0.5 !rounded-full object-cover object-center"},null,8,["path"])]),e("span",ee,[e("p",se,y(l.name),1)])]))),256))])]),e("div",te,[a.value?(i(),_(U,{key:0,items:6})):(i(),r("div",ae,[e("ul",oe,[(i(!0),r(p,null,f(b.value,l=>(i(),r("li",{class:"flex justify-between gap-x-6 py-5 items-center",key:l._id,title:l.company},[e("div",le,[e("img",{class:"h-8 w-8 flex-none rounded-full bg-gray-50",src:l.image,loading:"lazy"},null,8,ie),e("div",re,[e("p",ce,y(l.company),1)])]),e("div",de,[e("p",ue,[g(h,{type:"mdi",path:L(v)},null,8,["path"])])])],8,ne))),128))])]))])])]),_:1})}}});export{pe as default};
